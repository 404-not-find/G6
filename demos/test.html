<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="./assets/d3-4.13.0.min.js"></script>
  <script src="./assets/jquery-3.2.1.min.js"></script>
  <script src="../build/g6.js"></script>
  <script src="../build/plugins.js"></script>
  <title>测试</title>
</head>

<body>
  <div id="mountNode"></div>
  <div id="minimap"></div>

  <style>
    /* 此处书写样式代码，支持 less scss */
    /* @import 'antd/dist/antd.css'; */
    .card-container {
      width: 170px;
      height: 74px;
      border: 1px solid #DBDBDB;
      border-radius: 4px;
      position: relative;
    }
    .card-container .main-text{
      text-align: center;
      margin: 12px 14px;
      padding-bottom: 8px;
      margin-bottom: 0px;
      font-size: 16px;
      border-bottom: 1px solid #DBDBDB;
    }
    .card-container p{
      font-size: 12px;
      margin: 8px;
    }
    .card-container .value-text{
      margin-left: 12px;
      text-align: left;
    }
    .card-container .percent-text{
      margin-right: 12px;
      float: right;
      color: red
    }
  </style>
  <script>
    // const { forceSimulation, forceLink, forceManyBody, forceX, forceY, forceCollide } = d3;
    // let simulation;
    // $.getJSON('./assets/data/g6-index.json', data => {
    //   const graph = new G6.Graph({
    //     container: 'mountNode',
    //     width: 500,
    //     height: 500,
    //     fitView: 'cc',
    //     layout(nodes, edges) {
    //       if (simulation) {
    //         simulation.alphaTarget(0.3).restart();
    //       } else {
    //         simulation = forceSimulation(nodes)
    //           .force('charge', forceManyBody().strength(-100))
    //           .force('link', forceLink(edges).id(model => {
    //             return model.id;
    //           }))
    //           .force('collision', forceCollide().radius(model => {
    //             return model.size;
    //           }))
    //           .force('y', forceY())
    //           .force('x', forceX())
    //           .on('tick', () => {
    //             graph.updateNodePosition();
    //             graph.emit('afterlayout');
    //           });
    //       }
    //     },
    //     animate: true
    //   }); 

    //   graph.read(data);
    //   graph.node({
    //     size: 20
    //   });
    //   graph.update('0.0', {
    //     color: 'red'
    //   }, true);
    // });
    const graph = new G6.Graph({
      container: 'mountNode',
      width: 500,
      height: 500,
      animate: true
    });
    graph.node({
      size: 20
    });
    // graph.add('node', {
    //   id: 'node1',
    //   x: 242,
    //   y: 170
    // });
    // setTimeout(()=>{
    //   graph.add('group', {
    //   id: 'group1',
    //   x: 150,
    //   y: 150,
    // }).toBack();
    // }, 1000);

    // graph.update();
    graph.read({
      nodes: [{
        id: 'node1',
        x: 100,
        y: 200
      }, {
        id: 'node2',
        x: 200,
        y: 200
      }],
      edges: [{
        target: 'node2',
        source: 'node1'
      }]
    });
    setInterval(()=>{
      graph.update('node1', {
        x: 100 + 100 * Math.random()
      });
    }, 200);
    // setTimeout(()=>{
    //   graph.add('edge', {
    //     target: 'node2',
    //     source: 'node1'
    //   });
    // }, 1000);
    // graph.update('node1', {
    //   y: 400
    // });
    // graph.update('node2', {
    //   color: 'red'
    // });
    // graph.add('node', {
    //   id: 'node3',
    //   x: 50, 
    //   y: 100
    // });
    // const tree = new G6.Tree({
    //   container: 'mountNode',
    //   width: 500,
    //   height: 500,
    //   fitView: 'cc',
    //   animate: true
    // });
    // tree.read({
    //   roots: [{
    //     label: 'root',
    //     children: [{
    //       label: 'child1',
    //       children: [
    //         {
    //           label: 'child\n1.1'
    //         }
    //       ]
    //     }, {
    //       label: 'child2'
    //     }]
    //   }]
    // });
    // setTimeout(()=>{
    //   tree.add();
    // }, 2000);
    // graph.remove('node2');
    // graph.read(data, true);
  </script>
</body>
</html>

